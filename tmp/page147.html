	IA-32 시스템이 널리 사용됨에 따라
(주로 서버 환경에서) 4GB 이상의 메모리를 지원하도록 기능 요청이 높아졌고
따라서 Intel에서는 Pentium Pro 이후의 프로세서부터 주소 핀을 36개로 확장하여 
최대 64GB까지의 RAM을 이용할 수 있도록 하드웨어를 개선하였다.

따라서 이를 지원하도록 소프트웨어를 변경해야 하는데
Pentium Pro 에서는 <span style="font-weight: bold;">PAE</span>(Page Address Extension)라는 방식을 지원하며
Pentium III 이후의 프로세서부터는 <span style="font-weight: bold;">PSE-36</span>이라는 확장 페이징 방식을 제공한다.
(현재 리눅스 커널(v2.6.29)은 PSE-36 방식을 지원하지 않는다.)

이러한 방식은 32비트의 선형 주소를 그대로 사용하면서 물리 메모리를 확장하는 방식이다.
즉, 프로그램은 정규 페이징 때와 같이 4GB의 메모리 만을 사용할 수 있지만
이 메모리는 실제로는 64GB 공간 내의 어디에나 위치할 수 있는 것이다.
(정규 페이징 시에는 4GB 내의 물리 메모리를 공유하여 사용했던 것이라면
PAE 혹은 PSE-36 확장 페이징에서는 64GB 내에서 공유할 수 있도록 해 주는 것이다.)

PAE 방식은 PDPT가 추가되어 페이지 테이블이 한 단계 추가되었으며
각 페이지 테이블 엔트리는 36비트의 주소를 저장해야 하므로
페이지 테이블 엔트리의 크기는 64비트가 되어야 한다.
따라서 (커널의) 페이징 관련 소스가 많이 변경되어야 하며
(리눅스 커널은 이미 다단계 페이징을 지원하므로 크게 문제가 되지는 않는다.)
페이지 테이블 자체를 저장하기 위해 기존보다 (최대 4배?) 많은 메모리를 사용해야 한다.

하지만 PAE 방식은 기존과 동일하게 4KB 크기의 페이지를 다룰 수 있으므로
메모리를 효율적으로 이용할 수 있다는 장점이 있다.

PSE-36 방식은 PSE 방식을 기본으로하고 있으며 4MB 크기의 페이지를 사용하므로
중간 단계의 페이지 테이블이 필요없게 되어
페이지 테이블 자체로 인한 메모리 공간의 소모를 줄일 수 있고,
페이징 관련 소스를 큰 변경없이 이용할 수 있다.
PSE-36 방식은 PSE 방식에서는 사용하지 않는 
페이지 디렉터리 엔트리의 중간 10비트 중 4비트를 
추가적으로 사용하여 64GB의 주소를 지정한다.

하지만 PSE-36 방식은 4GB 이상의 물리 메모리를 이용하려면 
4MB 크기의 페이지를 사용할 수 밖에 없다는 단점이 있다.
PSE-36 방식에서 4KB 크기의 페이지를 사용하려면
정규 페이징 방식과 동일하게 4GB 이하의 물리 메모리 만을 이용할 수 있다.

<div style="clear:both; _display: none;">

</div>

<div class="posttaglist">
<a href="/tag/x86" rel="tag">x86</a>, <a href="/tag/memory" rel="tag">memory</a>, <a href="/tag/paging" rel="tag">paging</a>
</div>

